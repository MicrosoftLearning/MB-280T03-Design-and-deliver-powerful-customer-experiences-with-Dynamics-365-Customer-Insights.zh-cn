---
lab:
  title: 实验室 2.1：引入数据集
---

# 模块 2：将数据引入 Dynamics 365 Customer Insights - Data

## 实验室方案：Contoso Coffee
Contoso Coffee 生产高品质的咖啡和咖啡机，他们通过各种渠道进行零售，其中包括在优质地段新开的 Contoso 零售店、高级食品经销商和 Contoso Coffee 网站。 Contoso 计划借助 Contoso Cafes 和一种新的联网咖啡机进一步扩展他们的产品，这种咖啡机可以触发续杯订单并提醒 Contoso 服务解决任何问题。 这一新产品将有助于公司与其客户建立直接关系，并更多地了解客户如何消费他们的产品。

### Contoso Coffee 面临的挑战
- **交易关系：** 其现有业务模型意味着它们缺少与客户之间的直接关系。
- **数据孤岛：** 它们无法提供个性化的客户体验。

### Contoso 的现有数据布局
- **孤立的客户数据：** Contoso 会在多个系统中保留同一人的多条记录。 这造成的后果是，不管客户通过哪种渠道进行交易，都应将客户视为同一个人，但客户却遇到不连贯的体验。
- **多个平台：** Contoso 的体系结构通过收购和沿用旧系统发展而来，这意味着数据不仅可能驻留在不同的系统中，而且可能位于跨多个云和本地的不同平台上。
- **非客户数据：** Contoso 总结出了非客户数据以及此类数据对客户体验的影响（包括来自第三方的数据，如天气数据）之间的相关性。

### Contoso Coffee Customer Insights 项目
Contoso Coffee 已选派你作为项目经理，以在 Contoso Coffee 中实现 Dynamics 365 Customer Insights。 作为一名经验丰富的项目经理，您制定了以下计划：
1. 创建 Customer Insights 环境。
2. 从企业内部最高优先级数据源引入数据：
   - 销售点 (POS)
   - 会员数据
   - 电子商务客户
   - Web 购买
3. 通过引入的数据创建统一的客户配置文件

## 模块简介

### 实验室先决条件：
在开始本练习之前，务必要完成实验室 0 才能设置环境。

### 数据引入和数据统一
作为 Contoso Retail 的项目经理，你将通过引入客户数据的关键源并按照映射、匹配和合并过程来创建统一的客户配置文件。 在此实验室中，我们将引入数据。 在下一个实验室中，我们将统一数据。

**估计完成时间：** 45 分钟

### 熟悉 Customer Insights - Data
在此任务中，你将探索预配置的演示环境，以在 Customer Insights – Data 应用程序中四处浏览。
1. 通过 https://home.ci.ai.dynamics.com 登录到 Customer Insights - Data（如果尚未登录）。
2. 在右上角的环境选择器中，确认已选择“**Marketing 试用版**”。
3. 浏览左侧菜单选项，以熟悉导航：
   - **主页：** 主页
   - **客户：** 查看统一客户配置文件的卡片（目前尚无法查看 - 我们需要先引入并统一数据）
   - **数据 > 数据源：** 引入相互孤立的人口统计数据、交易数据或行为数据。 映射、匹配并合并到统一客户配置文件中。 查看实体并定义活动类型及其与客户的关系。
   - **数据 > 扩充：** 在统一配置文件之外，使用 Microsoft 专有数据扩充客户配置文件。 解锁数百个品牌和数十个兴趣类别的相似性数据。 这些相似性是为可能与您的客户相似的配置文件提取的。
   - **见解 > 细分、度量和预测：** 查看细分、配置度量以及使用现用的预测模型（或生成自己的模型）。 （目前尚无法查看此部分。）
   - **设置：** 客户细分的管理员角色、权限、API 和导出目的地。

## 练习 1 - 数据引入
在本练习中，你将熟悉如何从多个源引入数据。 作为 Contoso Retail 的项目经理，你已确定关键数据源包括电子商务客户、在线购买、店内销售点购买以及来自 Contoso Retail 会员卡方案的数据。

### 任务 1 - 从电子商务平台引入客户数据
1. 登录 http://home.ci.ai.dynamics.com 的 Customer Insights，验证右上角的下拉菜单中是否选择了“**市场营销试用版**”。
2. 在 Customer Insights 中，展开左侧导航菜单上的**数据**，然后选择**数据源**。
3. 选择“**+ 添加数据源**”。 查看引入数据的可用方法。 对于此实验室，请选择 Microsoft Power Query，将源命名为“*电子商务*”，然后选择**下一步**。
4. 将显示 Customer Insights 能够引入的 Power Query 数据源视图。 记录可用的连接器类型。 选择**文本/CSV** 连接器。
5. 输入 https://aka.ms/CI-ILT/Contacts 作为文件路径或 URL，然后选择**下一步。** 数据上传可能需要一些时间。
6. 您现在应看到来自源的数据已制成表格。 选择**转换数据**，为引入的数据配置数据类型和格式。
7. 你将注意到，列标题已显示在数据的第一行中。 若要更正此问题，可以从“主页”选项卡中选择“**转换 > 使用第一行作为标题**”，或者选择“**转换**”选项卡，然后选择“**使用第一行作为标题**”。
8. 我们已从文本/CSV 源中引入数据，因此所有列都默认为“文本”数据类型。 要成功引入数据并对其进行建模，我们可以为非文本列设置数据类型。 要更改数据类型，请选择列标题中的 ABC 图标。 更新这些列的数据类型：
   - **DateOfBirth**：日期
   - **CreatedOn：** 日期
   - **收入：** 货币
9. 验证“查询设置”窗格中的“名称”字段是否设置为“联系人”。 选择**下一步**。 选择“保存”。
   - 恭喜。 现已使用数据集成功创建了第一个数据源！ 我们将在下一个任务中继续导入下一个数据集。

## 任务 2 - 引入在线购买数据
在此任务中，将引入在线购买数据，这些数据表示通过 Contoso Coffee 网站进行的购买。

1. 在 Customer Insights 中，展开左侧菜单上的**数据**，然后选择**数据源**。
2. 在“*由我管理 (1)*”下，选择**电子商务**数据集，然后选择**编辑**。 选择**下一步**。
   - **备注：** 如果数据仍在刷新，则需要等待刷新完成后再进行编辑。 可以直接跳到任务 3，然后在完成任务 3-5 后返回到任务 2。
3. 应该会显示在任务 1 中引入的电子商务联系人数据的 Power Query 视图。 在“**主页**”选项卡上选择“**获取数据**”。
4. 将显示 Customer Insights 能够引入的数据源连接器视图。 选择**文本/CSV** 连接器。
5. 输入 https://aka.ms/CI-ILT/OnlinePurchases 作为文件路径或 URL，然后选择**下一步**。 选择**创建**。
6. 如前所述，选择**转换**，然后选择**使用第一行作为标题。**
7. 更新以下列的数据类型：
   - **PurchasedOn**：日期
   - **TotalPrice**：货币
8. 将此查询命名为“*购买*”，然后选择“**保存**”。

## 任务 3 - 从会员方案中引入客户数据
1. 在 Customer Insights 中，展开左侧菜单上的**数据**，然后选择**数据源**。
2. 选择“**+添加数据源**”，然后选择 **Microsoft Power Query** 作为导入方法。 将源命名为“*会员*”，然后选择**下一步**。
3. 选择**文本/CSV** 连接器。
4. 输入 https://aka.ms/CI-ILT/LoyaltySchemeCustomers 作为文件路径或 URL，选择**下一步**，然后选择**转换数据。**
5. 如前所述，选择“转换”，然后选择“使用第一行作为标题”。
6. 更新这些列的数据类型：
   - **DateOfBirth**：日期
   - **RewardsPoints：** 整数
   - **CreatedOn：** 日期
7. 在“查询设置”窗格中将此查询重命名为“*客户*”，然后选择**下一步。**
8. 在刷新屏幕上，选择“**保存**”。

## 任务 4 - 从销售点购买引入客户数据
1. 在 Customer Insights 中，展开左侧导航菜单上的**数据**，然后选择**数据源**。
2. 选择“**+ 添加数据源**”，选择 **Microsoft Power Query** 并将源命名为 *PoS*，然后选择**下一步。**
3. 选择**文本/CSV** 连接器。
4. 输入 https://aka.ms/CI-ILT/POSPurchases 作为文件路径或 URL。 选择**下一步**，然后选择**转换数据。**
5. 如前所述，选择**转换**，然后选择**使用第一行作为标题。**
6. 更新这些列的数据类型：
   - **PurchasedOn**：日期
   - **TotalPrice**：货币
   - **RewardPointsAdded：** 整数
7. 在“查询设置”窗格的“**名称**”字段中，将查询重命名为“*购买*”。 选择**下一步**。
8. 在数据刷新屏幕上，选择“**保存**”。

## 任务 5 - 从网站评论中引入客户数据
1. 在 Customer Insights 中，展开左侧导航菜单上的**数据**，然后选择**数据源**。
2. 选择“**+ 添加数据源**”。 选择 **Microsoft Power Query** 并将源命名为“*网站*”，然后选择**下一步。**
3. 选择**文本/CSV** 连接器。
4. 输入 https://aka.ms/CI-ILT/WebReviews 作为文件路径或 URL。 选择**下一步**，然后选择**转换数据。**
5. 如前所述，选择**转换，** 然后选择**使用第一行作为标题。**
6. 更新这些列的数据类型：
   - **ReviewRating**：整数
   - **ReviewDate**：日期
7. 在“查询设置”窗格的“**名称**”字段中，将查询重命名为“*评论*”。 选择**下一步**。
8. 在刷新屏幕上，选择“**保存**”。
